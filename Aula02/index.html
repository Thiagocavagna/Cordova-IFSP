<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: https://ssl.gstatic.com https://cdn.jsdelivr.net 'unsafe-eval'; style-src 'self' https://cdn.jsdelivr.net 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">   
    <title>Aula 02 - Tópicos Avançados (APP Adivinha)</title>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col">
                <h2 id="status"></h2>
                <p id="output"></p>
            </div>
        </div> 
        <div class="row">
            <div class="col">
                <label for="number">Number:</label>
                <input type="text" id="number">
                <input type="button" class='btn btn-primary' id="button" value="Check">         
            </div>
        </div>   
        <script src="cordova.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script>
            window.onload = function() {
                document.addEventListener('deviceready', start, false);
                const button = document.getElementById('button');
                button.addEventListener('click', () => buttonClicked());
            }

            var correctNumber = null;

            function start() {
                var outputField = document.getElementById('output');
                outputField.innerHTML = 'Choose a number to be guessed';
            }

            function buttonClicked() {
                var outputField = document.getElementById('output');
                var numberField = document.getElementById('number');
                var enteredNumber;
                try {
                    enteredNumber = parseInt(numberField.value);
                } catch {
                    outputField.innerHTML = 'Enter a valid number!';
                    return;
                }
                numberField.value = "";
                if (correctNumber === null) {
                    outputField.innerHTML = 'Enter a number';
                    correctNumber = enteredNumber;
                    return;
                }
                if (enteredNumber == correctNumber) {
                    document.getElementById('status').innerHTML = 'Correct!';
                    start();
                    return;
                }
                console.log(enteredNumber);
                console.log(correctNumber);

                if (enteredNumber > correctNumber) {
                    outputField.innerHTML = 'Enter a smaller number!';
                } else {
                    outputField.innerHTML = 'Enter a larger number!';
                }
                return;
            }
        </script>
    </div>
</body>
</html>
